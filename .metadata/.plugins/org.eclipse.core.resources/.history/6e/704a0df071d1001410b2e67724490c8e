import java.io.File; 
import java.io.FileInputStream;
import java.io.IOException;
import java.io.OutputStream;
import java.net.ServerSocket;
import java.net.Socket;
/**@author Lucas iorio - http://www.byiorio.com
*
* @author Lucas iorio - http://www.byiorio.com
*
*/
public class ServerTransfer {
public static void main(String[] args) {
// Criando servidor
ServerTransfer server = new ServerTransfer();
// Aguardar conexao de cliente para transferia
server.waitForClient();
}
public void waitForClient() {
// Checa se a transferencia foi completada com sucesso
OutputStream socketOut = null;
ServerSocket servsock = null;
FileInputStream fileIn = null;
try {
// Abrindo porta para conexao de clients
servsock = new ServerSocket(13267);
System.out.println(&quot;Porta de conexao aberta 13267&quot;); 
// Cliente conectado
Socket sock = servsock.accept();
System.out.println(&quot;Conexao recebida pelo cliente&quot;);
// Criando tamanho de leitura
byte[] cbuffer = new byte[1024];
int bytesRead;
// Criando arquivo que sera transferido pelo servidor
File file = new File(&quot;c:\\temp\\teste.zip&quot;);
fileIn = new FileInputStream(file);
System.out.println(&quot;Lendo arquivo...&quot;);
// Criando canal de transferencia
socketOut = sock.getOutputStream();
// Lendo arquivo criado e enviado para o canal de transferencia
System.out.println(&quot;Enviando Arquivo...&quot;);
while ((bytesRead = fileIn.read(cbuffer)) != -1) {
socketOut.write(cbuffer, 0, bytesRead);
socketOut.flush();
}
System.out.println(&quot;Arquivo Enviado!&quot;);
} catch (Exception e) {
// Mostra erro no console
e.printStackTrace();
} finally {
if (socketOut != null) {
try {
socketOut.close();
} catch (IOException e) {
e.printStackTrace();
}
}
if (servsock != null) {
try {
servsock.close();
} catch (IOException e) {
e.printStackTrace();
}
}
if (fileIn != null) {
try {
fileIn.close();
} catch (IOException e) {
e.printStackTrace();
}
}
}
}
}

Em 23 de março de 2015 12:30, Arthur Hagnês <arthurecomp@gmail.com> escreveu:
http://www.byiorio.com/wordpress/2013/10/30/java-transferindo-arquivos-via-socket/#sthash.6CQZWkHF.CNs0MO37.dpbs


-- 
Atenciosamente, 
Arthur Hagnês.
Universidade Estatual de Feira de Santana.
Graduando Engenharia de Computação.




-- 
Atenciosamente, 
Arthur Hagnês.
Universidade Estatual de Feira de Santana.
Graduando Engenharia de Computação.
